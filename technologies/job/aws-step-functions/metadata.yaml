version: v2
id: aws-step-functions
label: aws-step-functions
description: "Coordinate multiple AWS services into serverless workflows"
available: true
type: EXTERNAL_JOB
icon: job

contexts:
  - id: workflow
    label: workflow
    description: "A workflow is an orchestration used to visualize and manage the relationship and execution of multiple functions."
    recommended: true
    trustLevel: experimental
    available: true
    connectionTypeId: aws
    parameters:
      - type: DYNAMIC_SELECT
        id: stateMachine
        label: State Machine
        mandatory: true
        dynamicValues:
          script: .//../../scripts/aws/dist/job-form.js
          function: getStateMachines
      - type: TEXT
        id: name
        label: Execution Name
        mandatory: true
      - type: TEXT
        id: input
        label: Input Data
        mandatory: true
    actions:
      start:
        script: .//../../scripts/aws/dist/step-functions-workflow-actions.js
        function: start
      stop:
        script: .//../../scripts/aws/dist/step-functions-workflow-actions.js
        function: stop
      getStatus:
        script: .//../../scripts/aws/dist/step-functions-workflow-actions.js
        function: getStatus
      getLogs:
        script: .//../../scripts/aws/dist/step-functions-workflow-actions.js
        function: getLogs